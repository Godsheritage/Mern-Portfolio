{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nvar Subscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(Subscriber, _super);\n\n  function Subscriber(destinationOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this.syncErrorValue = null;\n    _this.syncErrorThrown = false;\n    _this.syncErrorThrowable = false;\n    _this.isStopped = false;\n\n    switch (arguments.length) {\n      case 0:\n        _this.destination = emptyObserver;\n        break;\n\n      case 1:\n        if (!destinationOrNext) {\n          _this.destination = emptyObserver;\n          break;\n        }\n\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            _this.destination = destinationOrNext;\n            destinationOrNext.add(_this);\n          } else {\n            _this.syncErrorThrowable = true;\n            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n          }\n\n          break;\n        }\n\n      default:\n        _this.syncErrorThrowable = true;\n        _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n        break;\n    }\n\n    return _this;\n  }\n\n  Subscriber.prototype[rxSubscriberSymbol] = function () {\n    return this;\n  };\n\n  Subscriber.create = function (next, error, complete) {\n    var subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  };\n\n  Subscriber.prototype.next = function (value) {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  };\n\n  Subscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._error(err);\n    }\n  };\n\n  Subscriber.prototype.complete = function () {\n    if (!this.isStopped) {\n      this.isStopped = true;\n\n      this._complete();\n    }\n  };\n\n  Subscriber.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n\n    this.isStopped = true;\n\n    _super.prototype.unsubscribe.call(this);\n  };\n\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n\n  Subscriber.prototype._error = function (err) {\n    this.destination.error(err);\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._complete = function () {\n    this.destination.complete();\n    this.unsubscribe();\n  };\n\n  Subscriber.prototype._unsubscribeAndRecycle = function () {\n    var _parentOrParents = this._parentOrParents;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  };\n\n  return Subscriber;\n}(Subscription);\n\nexport { Subscriber };\n\nvar SafeSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SafeSubscriber, _super);\n\n  function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this._parentSubscriber = _parentSubscriber;\n    var next;\n    var context = _this;\n\n    if (isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next;\n      error = observerOrNext.error;\n      complete = observerOrNext.complete;\n\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n\n        if (isFunction(context.unsubscribe)) {\n          _this.add(context.unsubscribe.bind(context));\n        }\n\n        context.unsubscribe = _this.unsubscribe.bind(_this);\n      }\n    }\n\n    _this._context = context;\n    _this._next = next;\n    _this._error = error;\n    _this._complete = complete;\n    return _this;\n  }\n\n  SafeSubscriber.prototype.next = function (value) {\n    if (!this.isStopped && this._next) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n      var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.complete = function () {\n    var _this = this;\n\n    if (!this.isStopped) {\n      var _parentSubscriber = this._parentSubscriber;\n\n      if (this._complete) {\n        var wrappedComplete = function () {\n          return _this._complete.call(_this._context);\n        };\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  };\n\n  SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  SafeSubscriber.prototype._unsubscribe = function () {\n    var _parentSubscriber = this._parentSubscriber;\n    this._context = null;\n    this._parentSubscriber = null;\n\n    _parentSubscriber.unsubscribe();\n  };\n\n  return SafeSubscriber;\n}(Subscriber);\n\nexport { SafeSubscriber };","map":{"version":3,"mappings":"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","names":["tslib_1","isFunction","empty","Subscription","rxSubscriber","rxSubscriberSymbol","config","Subscriber","_super","destinationOrNext","error","complete","_this","arguments","destination","emptyObserver","syncErrorThrowable","next","subscriber","isStopped","unsubscribe","_next","value","_error","err","_complete","_parentOrParents","closed","SafeSubscriber","_parentSubscriber","observerOrNext","context","_context","useDeprecatedSynchronousErrorHandling","__tryOrUnsub","__tryOrSetError","hostReportError","syncErrorValue","wrappedComplete","call","fn","prototype","parent","syncErrorThrown"],"sources":["/Users/godsheritageadeoye/Documents/GitHub/Mern-Portfolio/client/node_modules/rxjs/src/internal/Subscriber.ts"],"sourcesContent":["import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const {  _parentOrParents } = this;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}